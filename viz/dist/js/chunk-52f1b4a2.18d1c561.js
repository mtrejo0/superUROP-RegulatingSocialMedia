(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52f1b4a2"],{"1dc9":function(e,t,r){"use strict";r("bd34")},7301:function(e,t,r){"use strict";r("c966")},affb:function(e,t,r){"use strict";r("eb36")},bd34:function(e,t,r){},be72:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"freet-container"},[r("p",[r("strong",[e._v(e._s(e.freet.username))])]),e.freet.refreet_id>0?r("p",[r("strong",[e._v("refreet:")]),e._v(" "),r("i",[e._v(e._s(e.freet.body))])]):r("p",[r("i",[e._v(e._s(e.freet.body))])]),e.editing?r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.editText,expression:"editText",modifiers:{trim:!0}}],attrs:{id:"name",type:"text",name:"editText",placeholder:"New freet body"},domProps:{value:e.editText},on:{input:function(t){t.target.composing||(e.editText=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}):e._e(),r("div",{staticClass:"freet-buttons"},[e.freet.refreet_id>0?e._e():r("div",{staticClass:"freet-button"},[r("p",[e._v(e._s(e.freet.likes.length))]),e.liked?r("button",{staticClass:"button faded",attrs:{disabled:""}},[e._v(" Liked ")]):r("button",{staticClass:"button",on:{click:e.likeFreet}},[e._v(" Like ")])]),e._v(" "+e._s(" ")+" "),r("div",[r("p",[e._v(e._s(e.freet.refreets.length))]),e.retweeted?r("button",{staticClass:"button faded",attrs:{disabled:""}},[e._v(" Refreeted ")]):r("button",{staticClass:"button",on:{click:e.refreet}},[e._v(" Refreet ")])])]),e.owner?r("div",{staticClass:"freet-buttons"},[e.freet.refreet_id>0||e.editing?e.editing?r("button",{staticClass:"button freet-button",on:{click:e.submitEdit}},[e._v(" Save ")]):e._e():r("button",{staticClass:"button freet-button",on:{click:e.editFreet}},[e._v(" Edit ")]),r("button",{staticClass:"button warning",on:{click:e.deleteFreet}},[e._v(" Delete ")])]):e._e()])},n=[],i=r("bc3a"),a=r.n(i),o=r("56d7"),c={name:"Freet",props:{freet:Object},data:function(){return{owner:this.$cookie.get("fritter-auth")==this.freet.username,liked:this.hasLiked(),retweeted:this.hasRefreeted(),editing:!1,editText:""}},methods:{hasLiked:function(){for(var e=!1,t=0;t<this.freet.likes.length;t++)this.$cookie.get("fritter-auth-id")==this.freet.likes[t].user_id&&(e=!0);return e},hasRefreeted:function(){for(var e=!1,t=0;t<this.freet.refreets.length;t++)this.$cookie.get("fritter-auth-id")==this.freet.refreets[t].creator&&(e=!0);return e},likeFreet:function(){var e={id:this.freet.post_id};a.a.post("/api/actions/likes",e).then((function(e){o["eventBus"].$emit("like-freet-success",e)})).catch((function(e){o["eventBus"].$emit("like-freet-error",e)}))},refreet:function(){var e={id:this.freet.post_id};a.a.post("/api/actions/refreet",e).then((function(e){o["eventBus"].$emit("refreet-freet-success",e)})).catch((function(e){o["eventBus"].$emit("refreet-freet-error",e)}))},editFreet:function(){this.editing=!0},submitEdit:function(){this.editing=!1;var e={id:this.freet.post_id,content:this.editText};a.a.put("/api/freets",e).then((function(e){o["eventBus"].$emit("edit-freet-success",e)})).catch((function(e){o["eventBus"].$emit("edit-freet-error",e)}))},deleteFreet:function(){var e=this;a.a.delete("/api/freets/".concat(this.freet.post_id),{}).then((function(){o["eventBus"].$emit("delete-freet-success",e.freet)})).catch((function(e){o["eventBus"].$emit("delete-freet-error",e)}))}}},u=c,l=(r("7301"),r("2877")),f=Object(l["a"])(u,s,n,!1,null,"92878232",null);t["a"]=f.exports},c966:function(e,t,r){},cd56:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Navbar"),r("div",{staticClass:"main"},[e.userName?r("CreateFreetForm"):e._e(),r("FreetList")],1)],1)},n=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"subcontainer"},[r("div",{staticClass:"short-form-container"},[r("form",{attrs:{id:"create-short",method:"post"},on:{submit:function(t){return t.preventDefault(),e.createShort(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.body,expression:"body",modifiers:{trim:!0}}],attrs:{id:"name",type:"text",name:"body",placeholder:"Whats happening?"},domProps:{value:e.body},on:{input:function(t){t.target.composing||(e.body=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("input",{staticClass:"button",attrs:{type:"submit",value:"Create Freet",id:"createFreet"}}),e.success?r("div",{staticClass:"success-message"},[e._v(" "+e._s(e.success)+" ")]):e._e(),e.errors.length?r("div",{staticClass:"error-message"},[r("b",[e._v("Please correct the following error(s):")]),r("ul",e._l(e.errors,(function(t){return r("li",{key:t.id},[e._v(e._s(t))])})),0)]):e._e()])])])},a=[],o=r("bc3a"),c=r.n(o),u=r("56d7"),l={name:"CreateFreetForm",data:function(){return{errors:[],success:"",body:""}},methods:{createShort:function(){var e=this;if(this.errors=[],""===this.freetText)this.errors.push("Freet cannot be empty!"),this.clearMessages();else{var t={body:this.body,username:this.$cookie.get("fritter-auth")};c.a.post("/api/freets",t).then((function(t){e.success="Freet created successfully!",u["eventBus"].$emit("create-freet-success",t)})).catch((function(t){e.errors.push(t.response.data.message)})).then((function(){e.resetForm(),e.clearMessages()}))}},resetForm:function(){this.shortName="",this.url=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[],e.success=""}),5e3)}}},f=l,d=r("2877"),v=Object(d["a"])(f,i,a,!1,null,null,null),h=v.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container center"},[e.success?r("div",{staticClass:"success-message"},[e._v(" "+e._s(e.success)+" ")]):e._e(),e.error?r("div",{staticClass:"error-message"},[e._v(" "+e._s(e.error)+" ")]):e._e(),r("div",{staticClass:"freet-container",staticStyle:{"text-align":"center"}},[e.freets.length?r("div",e._l(e.freets.slice().reverse(),(function(e){return r("Freet",{key:e.post_id,attrs:{freet:e}})})),1):r("div",[r("p",{staticStyle:{"text-align":"center"}},[e._v("There are no freets to display. Create one today!")])])])])},p=[],_=r("be72"),g={name:"FreetList",components:{Freet:_["a"]},data:function(){return{freets:[],success:"",error:""}},created:function(){var e=this;u["eventBus"].$on("like-freet-success",(function(t){e.success="Succesfully liked freet ".concat(JSON.parse(t.config.data).id),e.clearMessages(),e.loadFreets()})),u["eventBus"].$on("like-freet-error",(function(){e.error="You have already liked this freet!",e.clearMessages(),e.loadFreets()})),u["eventBus"].$on("refreet-freet-success",(function(t){e.success="Succesfully refreeted freet ".concat(JSON.parse(t.config.data).id),e.clearMessages(),e.loadFreets()})),u["eventBus"].$on("refreet-freet-error",(function(t){e.error=JSON.stringify(t.data.message),e.clearMessages(),e.loadFreets()})),u["eventBus"].$on("edit-freet-success",(function(t){e.success="Succesfully edited freet ".concat(JSON.parse(t.config.data).id),e.clearMessages(),e.loadFreets()})),u["eventBus"].$on("edit-freet-error",(function(t){e.error=JSON.stringify(t.response.data.error),e.clearMessages(),e.loadFreets()})),u["eventBus"].$on("create-freet-success",(function(t){e.success="New freet ".concat(JSON.stringify(t.data.freet.post_id)," succesfully added!"),e.clearMessages(),e.loadFreets()})),u["eventBus"].$on("delete-freet-success",(function(t){e.success="Freet ".concat(t.post_id," has been deleted"),e.clearMessages(),e.loadFreets(),e.$forceUpdate()})),u["eventBus"].$on("delete-freet-error",(function(t){e.error="Freet ".concat(t.post_id," has not been deleted"),e.clearMessages(),e.loadFreets()})),this.loadFreets()},methods:{loadFreets:function(){var e=this;c.a.get("/api/freets").then((function(t){e.freets=t.data.freets}))},clearMessages:function(){var e=this;setInterval((function(){e.success="",e.error=""}),5e3)}}},b=g,k=(r("affb"),r("1dc9"),Object(d["a"])(b,m,p,!1,null,"4e2c7e1e",null)),F=k.exports,$=r("d178"),y={name:"home",data:function(){return{userName:this.$cookie.get("fritter-auth")}},components:{CreateFreetForm:h,FreetList:F,Navbar:$["a"]}},C=y,S=Object(d["a"])(C,s,n,!1,null,null,null);t["default"]=S.exports},d178:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-align"},[r("FritterLogo"),r("SearchUser"),r("LoginSignUpButton")],1)},n=[],i=r("4996"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"search-bar"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user,expression:"user",modifiers:{trim:!0}}],staticClass:"search",attrs:{type:"search"},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("form",{staticClass:"button-router"},[0==this.user.length?r("div",[r("router-link",{staticClass:"router-link",staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:""+this.user}},[e._v(" Search User ")])],1):r("div",[r("router-link",{staticClass:"router-link",staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/accounts/"+this.user}},[e._v(" Search User ")])],1)])])])},o=[],c={name:"SearchUser",data:function(){return{errors:[],user:""}}},u=c,l=r("2877"),f=Object(l["a"])(u,a,o,!1,null,null,null),d=f.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"button-router"},[r("router-link",{staticClass:"router-link",staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/account"}},[e.userName?r("span",[e._v(" Hi "+e._s(e.userName)+"! ")]):r("span",[e._v(" Log In / Sign Up ")])])],1)])},h=[],m={name:"LoginSignUpButton",data:function(){return{userName:this.$cookie.get("fritter-auth")}}},p=m,_=Object(l["a"])(p,v,h,!1,null,null,null),g=_.exports,b={name:"nav_bar",data:function(){return{userName:this.$cookie.get("fritter-auth")}},components:{FritterLogo:i["a"],SearchUser:d,LoginSignUpButton:g}},k=b,F=Object(l["a"])(k,s,n,!1,null,null,null);t["a"]=F.exports},eb36:function(e,t,r){}}]);
//# sourceMappingURL=chunk-52f1b4a2.18d1c561.js.map