(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d076ae8c"],{"63fa":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Navbar"),e.errors.length?s("div",{staticClass:"error-message"},[s("b",[e._v("Please correct the following error(s):")]),s("ul",e._l(e.errors,(function(t){return s("li",{key:t.id},[e._v(e._s(t))])})),0)]):e._e(),e.isFound?s("div",{staticClass:"shorts-container",staticStyle:{"text-align":"center"}},[s("h1",[e._v(" Welcome To "+e._s(this.user)+"'s Profile! ")]),s("Follow",{attrs:{otherUser:this.user}}),e.messages.length?s("div",{staticClass:"success-message",staticStyle:{"text-align":"center"}},e._l(e.messages,(function(t){return s("div",{key:t.id},[e._v(e._s(t))])})),0):e._e(),e.userData.length?s("div",e._l(e.userData.slice().reverse(),(function(e){return s("Freet",{key:e.post_id,attrs:{freet:e}})})),1):s("div",[s("p",{staticStyle:{"text-align":"center"}},[e._v("There are no freets to display.")])])],1):e._e()],1)},n=[],i=s("bc3a"),a=s.n(i),o=s("d178"),c=s("be72"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"component",attrs:{id:"follow"}},[s("input",{staticClass:"button",attrs:{type:"submit",value:"Follow"},on:{click:e.follow}})]),e.errors.length?s("div",{staticClass:"error-message"},[s("b",[e._v("Please correct the following error(s):")]),s("ul",e._l(e.errors,(function(t){return s("li",{key:t.id},[e._v(e._s(t))])})),0)]):e._e()])},l=[],f=s("56d7"),d={name:"Follow",props:["otherUser"],data:function(){return{errors:[]}},methods:{follow:function(){var e=this,t={username:this.$cookie.get("fritter-auth"),otherUser:this.otherUser};a.a.post("/api/actions/follow",t).then((function(e){f["eventBus"].$emit("follow-success",e)})).catch((function(t){e.errors.push(t.response.data.message)})).then((function(){e.clearMessages()}))},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},h=d,v=s("2877"),g=Object(v["a"])(h,u,l,!1,null,"42f1e254",null),p=g.exports,m={name:"accounts",props:["user"],data:function(){return{errors:[],messages:[],userData:[],isFound:!1,isLoggedin:!1}},watch:{user:{immediate:!0,handler:function(){var e=this;this.errors=[],this.isFound=!1,a.a.get("/api/freets/"+this.user).then((function(t){e.userData=t.data.freets,e.isFound=!0})).catch((function(){e.errors.push("Could not find username. Check the username and try again.")}))}}},components:{Navbar:o["a"],Freet:c["a"],Follow:p},created:function(){var e=this,t=this.$cookie.get("fritter-auth");t&&(this.isLoggedin=!0),f["eventBus"].$on("follow-success",(function(){e.messages.push("You have followed "+e.user+"!"),e.clearMessages()})),f["eventBus"].$on("like-freet-success",(function(t){e.messages.push("Succesfully liked freet ".concat(JSON.parse(t.config.data).id)),e.clearMessages(),e.loadFreets()})),f["eventBus"].$on("like-freet-error",(function(){e.errors.push("You have already liked this freet!"),e.clearMessages(),e.loadFreets()})),f["eventBus"].$on("refreet-freet-success",(function(t){e.messages.push("Succesfully refreeted freet ".concat(JSON.parse(t.config.data).id)),e.clearMessages(),e.loadFreets()})),f["eventBus"].$on("refreet-freet-error",(function(t){e.errors.push(JSON.stringify(t.data.message)),e.clearMessages(),e.loadFreets()})),f["eventBus"].$on("edit-freet-success",(function(t){e.messages.push("Succesfully edited freet ".concat(JSON.parse(t.config.data).id)),e.clearMessages(),e.loadFreets()})),f["eventBus"].$on("edit-freet-error",(function(t){e.errors.push(JSON.stringify(t.response.data.error)),e.clearMessages(),e.loadFreets()})),f["eventBus"].$on("create-freet-success",(function(t){e.messages.push("New freet ".concat(JSON.stringify(t.data.freet.post_id)," succesfully added!")),e.clearMessages(),e.loadFreets()})),f["eventBus"].$on("delete-freet-success",(function(t){e.messages.push("Freet ".concat(t.post_id," has been deleted")),e.clearMessages(),e.loadFreets(),e.$forceUpdate()})),f["eventBus"].$on("delete-freet-error",(function(t){e.errors.push("Freet ".concat(t.post_id," has not been deleted")),e.clearMessages(),e.loadFreets()})),this.loadFreets()},methods:{loadFreets:function(){var e=this;a.a.get("/api/freets/"+this.user).then((function(t){e.userData=t.data.freets}))},clearMessages:function(){var e=this;setInterval((function(){e.messages=[],e.errors=[]}),5e3)}}},_=m,b=Object(v["a"])(_,r,n,!1,null,null,null);t["default"]=b.exports},7301:function(e,t,s){"use strict";s("c966")},be72:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"freet-container"},[s("p",[s("strong",[e._v(e._s(e.freet.username))])]),e.freet.refreet_id>0?s("p",[s("strong",[e._v("refreet:")]),e._v(" "),s("i",[e._v(e._s(e.freet.body))])]):s("p",[s("i",[e._v(e._s(e.freet.body))])]),e.editing?s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.editText,expression:"editText",modifiers:{trim:!0}}],attrs:{id:"name",type:"text",name:"editText",placeholder:"New freet body"},domProps:{value:e.editText},on:{input:function(t){t.target.composing||(e.editText=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}):e._e(),s("div",{staticClass:"freet-buttons"},[e.freet.refreet_id>0?e._e():s("div",{staticClass:"freet-button"},[s("p",[e._v(e._s(e.freet.likes.length))]),e.liked?s("button",{staticClass:"button faded",attrs:{disabled:""}},[e._v(" Liked ")]):s("button",{staticClass:"button",on:{click:e.likeFreet}},[e._v(" Like ")])]),e._v(" "+e._s(" ")+" "),s("div",[s("p",[e._v(e._s(e.freet.refreets.length))]),e.retweeted?s("button",{staticClass:"button faded",attrs:{disabled:""}},[e._v(" Refreeted ")]):s("button",{staticClass:"button",on:{click:e.refreet}},[e._v(" Refreet ")])])]),e.owner?s("div",{staticClass:"freet-buttons"},[e.freet.refreet_id>0||e.editing?e.editing?s("button",{staticClass:"button freet-button",on:{click:e.submitEdit}},[e._v(" Save ")]):e._e():s("button",{staticClass:"button freet-button",on:{click:e.editFreet}},[e._v(" Edit ")]),s("button",{staticClass:"button warning",on:{click:e.deleteFreet}},[e._v(" Delete ")])]):e._e()])},n=[],i=s("bc3a"),a=s.n(i),o=s("56d7"),c={name:"Freet",props:{freet:Object},data:function(){return{owner:this.$cookie.get("fritter-auth")==this.freet.username,liked:this.hasLiked(),retweeted:this.hasRefreeted(),editing:!1,editText:""}},methods:{hasLiked:function(){for(var e=!1,t=0;t<this.freet.likes.length;t++)this.$cookie.get("fritter-auth-id")==this.freet.likes[t].user_id&&(e=!0);return e},hasRefreeted:function(){for(var e=!1,t=0;t<this.freet.refreets.length;t++)this.$cookie.get("fritter-auth-id")==this.freet.refreets[t].creator&&(e=!0);return e},likeFreet:function(){var e={id:this.freet.post_id};a.a.post("/api/actions/likes",e).then((function(e){o["eventBus"].$emit("like-freet-success",e)})).catch((function(e){o["eventBus"].$emit("like-freet-error",e)}))},refreet:function(){var e={id:this.freet.post_id};a.a.post("/api/actions/refreet",e).then((function(e){o["eventBus"].$emit("refreet-freet-success",e)})).catch((function(e){o["eventBus"].$emit("refreet-freet-error",e)}))},editFreet:function(){this.editing=!0},submitEdit:function(){this.editing=!1;var e={id:this.freet.post_id,content:this.editText};a.a.put("/api/freets",e).then((function(e){o["eventBus"].$emit("edit-freet-success",e)})).catch((function(e){o["eventBus"].$emit("edit-freet-error",e)}))},deleteFreet:function(){var e=this;a.a.delete("/api/freets/".concat(this.freet.post_id),{}).then((function(){o["eventBus"].$emit("delete-freet-success",e.freet)})).catch((function(e){o["eventBus"].$emit("delete-freet-error",e)}))}}},u=c,l=(s("7301"),s("2877")),f=Object(l["a"])(u,r,n,!1,null,"92878232",null);t["a"]=f.exports},c966:function(e,t,s){},d178:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"nav-align"},[s("FritterLogo"),s("SearchUser"),s("LoginSignUpButton")],1)},n=[],i=s("4996"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"search-bar"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user,expression:"user",modifiers:{trim:!0}}],staticClass:"search",attrs:{type:"search"},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("form",{staticClass:"button-router"},[0==this.user.length?s("div",[s("router-link",{staticClass:"router-link",staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:""+this.user}},[e._v(" Search User ")])],1):s("div",[s("router-link",{staticClass:"router-link",staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/accounts/"+this.user}},[e._v(" Search User ")])],1)])])])},o=[],c={name:"SearchUser",data:function(){return{errors:[],user:""}}},u=c,l=s("2877"),f=Object(l["a"])(u,a,o,!1,null,null,null),d=f.exports,h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"button-router"},[s("router-link",{staticClass:"router-link",staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/account"}},[e.userName?s("span",[e._v(" Hi "+e._s(e.userName)+"! ")]):s("span",[e._v(" Log In / Sign Up ")])])],1)])},v=[],g={name:"LoginSignUpButton",data:function(){return{userName:this.$cookie.get("fritter-auth")}}},p=g,m=Object(l["a"])(p,h,v,!1,null,null,null),_=m.exports,b={name:"nav_bar",data:function(){return{userName:this.$cookie.get("fritter-auth")}},components:{FritterLogo:i["a"],SearchUser:d,LoginSignUpButton:_}},k=b,$=Object(l["a"])(k,r,n,!1,null,null,null);t["a"]=$.exports}}]);
//# sourceMappingURL=chunk-d076ae8c.880eebcd.js.map