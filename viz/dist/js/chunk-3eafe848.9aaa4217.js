(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3eafe848"],{"043d":function(e,s,t){"use strict";t("22a0")},"04b2":function(e,s,t){"use strict";t("5896")},"22a0":function(e,s,t){},"26b6":function(e,s,t){},"3c3c":function(e,s,t){},5896:function(e,s,t){},7110:function(e,s,t){"use strict";t("3c3c")},"77be":function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("FritterLogo"),t("UserSettings")],1)},r=[],a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"user-settings"}},[e.isSignedIn?t("div",{staticClass:"form-container"},[t("h1",[e._v(" Hi "+e._s(this.$cookie.get("fritter-auth"))+"! ")]),t("ChangeUsername"),t("ChangePassword"),t("SignOut"),t("DeleteUser")],1):t("div",{staticClass:"form-container"},[e._v(" Welcome to Fritter! Please sign in or sign up. "),t("SignIn"),t("SignUp")],1),e.messages.length?t("div",{staticClass:"success-message",staticStyle:{"text-align":"center"}},e._l(e.messages,(function(s){return t("div",{key:s.id},[e._v(e._s(s))])})),0):e._e()])},i=[],o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("form",{staticClass:"component",attrs:{id:"sign-in",method:"post"},on:{submit:function(s){return s.preventDefault(),e.signIn(s)}}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],attrs:{id:"username",type:"text",name:"username",placeholder:"Username"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{id:"password",type:"text",name:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),t("input",{staticClass:"button",attrs:{type:"submit",value:"Sign In"}})]),e.errors.length?t("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[t("b",[e._v("Please correct the following error(s):")]),t("ul",e._l(e.errors,(function(s){return t("li",{key:s.id},[e._v(e._s(s))])})),0)]):e._e()])},u=[],c=t("bc3a"),l=t.n(c),m=t("56d7"),d={name:"SignIn",data:function(){return{errors:[],username:"",password:""}},methods:{signIn:function(){var e=this,s={username:this.username,password:this.password};l.a.post("/api/users/signin",s).then((function(e){m["eventBus"].$emit("signin-success",e.data.username)})).catch((function(s){e.errors.push(s.response.data.message)})).then((function(){e.resetForm(),e.clearMessages()}))},resetForm:function(){this.username="",this.password=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},p=d,f=(t("043d"),t("2877")),g=Object(f["a"])(p,o,u,!1,null,"c310a7fa",null),h=g.exports,v=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"component",attrs:{id:"sign-out"}},[t("input",{staticClass:"button",attrs:{type:"submit",value:"Sign Out"},on:{click:e.signOut}})])},w=[],b={name:"SignOut",data:function(){return{userName:this.$cookie.get("fritter-auth")}},methods:{signOut:function(){l.a.post("api/users/signout").then((function(){m["eventBus"].$emit("signout-success",!0)})).catch((function(){m["eventBus"].$emit("signout-success",!0)}))},deleteAccount:function(){l.a.delete("api/users").then((function(){m["eventBus"].$emit("delete-success",!0)})).catch((function(){m["eventBus"].$emit("delete-error",!0)}))}}},_=b,$=(t("e34e"),Object(f["a"])(_,v,w,!1,null,"3422f14c",null)),U=$.exports,y=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"component",attrs:{id:"delete-user"}},[t("input",{staticClass:"button",attrs:{type:"submit",value:"Delete User"},on:{click:e.deleteUser}})]),e.errors.length?t("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[t("b",[e._v("Please correct the following error(s):")]),t("ul",e._l(e.errors,(function(s){return t("li",{key:s.id},[e._v(e._s(s))])})),0)]):e._e()])},C=[],S={name:"DeleteUser",data:function(){return{errors:[]}},methods:{deleteUser:function(){var e=this;l.a.delete("api/users/").then((function(){m["eventBus"].$emit("deleteUser-success",!0),m["eventBus"].$emit("signout-success",!0)})).catch((function(s){e.errors.push(s.response.data.message)}))},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},x=S,k=(t("04b2"),Object(f["a"])(x,y,C,!1,null,"c8f1f7ee",null)),P=k.exports,I=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("form",{staticClass:"component",attrs:{id:"sign-up",method:"post"},on:{submit:function(s){return s.preventDefault(),e.signIn(s)}}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],attrs:{id:"username",type:"text",name:"username",placeholder:"Username"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{id:"password",type:"text",name:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),t("input",{staticClass:"button",attrs:{type:"submit",value:"Sign Up"}})]),e.errors.length?t("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[t("b",[e._v("Please correct the following error(s):")]),t("ul",e._l(e.errors,(function(s){return t("li",{key:s.id},[e._v(e._s(s))])})),0)]):e._e()])},B=[],M={name:"SignUp",data:function(){return{errors:[],username:"",password:""}},methods:{signIn:function(){var e=this,s={username:this.username,password:this.password};l.a.post("/api/users",s).then((function(){m["eventBus"].$emit("signup-success",!0)})).catch((function(s){e.errors.push(s.response.data.message)})).then((function(){e.resetForm(),e.clearMessages()}))},resetForm:function(){this.username="",this.password=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},O=M,F=(t("7110"),Object(f["a"])(O,I,B,!1,null,"3cb7aa4c",null)),D=F.exports,j=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("form",{staticClass:"component",attrs:{id:"sign-in",method:"put"},on:{submit:function(s){return s.preventDefault(),e.changePass(s)}}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{id:"password",type:"text",name:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),t("input",{staticClass:"button",attrs:{type:"submit",value:"Change Password"}})]),e.errors.length?t("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[t("b",[e._v("Please correct the following error(s):")]),t("ul",e._l(e.errors,(function(s){return t("li",{key:s.id},[e._v(e._s(s))])})),0)]):e._e()])},E=[],Y={name:"ChangePassword",data:function(){return{errors:[],password:""}},methods:{changePass:function(){var e=this,s={username:this.$cookie.get("fritter-auth"),password:this.password};l.a.put("/api/users/password",s).then((function(){m["eventBus"].$emit("changePassword-success",e.$cookie.get("fritter-auth"))})).catch((function(s){e.errors.push(s.response.data.message)})).then((function(){e.resetForm(),e.clearMessages()}))},resetForm:function(){this.password=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},N=Y,J=(t("a1a3"),Object(f["a"])(N,j,E,!1,null,"2ba5731c",null)),L=J.exports,A=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("form",{staticClass:"component",attrs:{id:"sign-in",method:"put"},on:{submit:function(s){return s.preventDefault(),e.changeUser(s)}}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],attrs:{id:"username",type:"text",name:"username",placeholder:"Username"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),t("input",{staticClass:"button",attrs:{type:"submit",value:"Change Username"}})]),e.errors.length?t("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[t("b",[e._v("Please correct the following error(s):")]),t("ul",e._l(e.errors,(function(s){return t("li",{key:s.id},[e._v(e._s(s))])})),0)]):e._e()])},H=[],W={name:"ChangeUsername",data:function(){return{errors:[],username:""}},methods:{changeUser:function(){var e=this,s={old:this.$cookie.get("fritter-auth"),username:this.username,password:this.password};l.a.put("/api/users/username",s).then((function(){m["eventBus"].$emit("changeUsername-success",e.username)})).catch((function(s){e.errors.push(s.response.data.message)})).then((function(){e.resetForm(),e.clearMessages()}))},resetForm:function(){this.username=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},q=W,z=(t("b07f"),Object(f["a"])(q,A,H,!1,null,"73baaff2",null)),G=z.exports,K={name:"UserSettings",components:{SignIn:h,SignOut:U,SignUp:D,ChangePassword:L,ChangeUsername:G,DeleteUser:P},data:function(){return{isSignedIn:!1,messages:[]}},created:function(){var e=this,s=this.$cookie.get("fritter-auth");s&&(this.isSignedIn=!0),m["eventBus"].$on("signin-success",(function(s){e.$cookie.set("fritter-auth",s),l.a.get("/api/users/".concat(s)).then((function(s){e.$cookie.set("fritter-auth-id",s.data.user_id)})).catch((function(s){e.messages.push("Did not get user_id ".concat(s))})),e.isSignedIn=!0,e.messages.push("You have been signed in!"),e.clearMessages()})),m["eventBus"].$on("changePassword-success",(function(){e.messages.push("You have changed your password!"),e.clearMessages()})),m["eventBus"].$on("changeUsername-success",(function(s){e.$cookie.set("fritter-auth",s),e.messages.push("You have changed your username!"),e.clearMessages()})),m["eventBus"].$on("signout-success",(function(){e.$cookie.set("fritter-auth",""),e.$cookie.set("fritter-auth-id",""),e.isSignedIn=!1,e.messages.push("You have been signed out!"),e.clearMessages()})),m["eventBus"].$on("deleteUser-success",(function(){e.messages.push("You have deleted your user!"),e.clearMessages()})),m["eventBus"].$on("delete-success",(function(){e.$cookie.set("fritter-auth",""),e.isSignedIn=!1,e.messages.push("Your account has been deleted!"),e.clearMessages()})),m["eventBus"].$on("delete-error",(function(){e.messages.push("Your account wasnt deleted properly"),e.clearMessages()})),m["eventBus"].$on("signup-success",(function(){e.messages.push("You have been signed up! Sign in to continue."),e.clearMessages()}))},methods:{clearMessages:function(){var e=this;setInterval((function(){e.messages=[]}),5e3)}}},Q=K,R=Object(f["a"])(Q,a,i,!1,null,null,null),T=R.exports,V=t("4996"),X={name:"account",components:{UserSettings:T,FritterLogo:V["a"]}},Z=X,ee=Object(f["a"])(Z,n,r,!1,null,null,null);s["default"]=ee.exports},"9ce1":function(e,s,t){},a1a3:function(e,s,t){"use strict";t("9ce1")},b07f:function(e,s,t){"use strict";t("26b6")},e34e:function(e,s,t){"use strict";t("e8cb")},e8cb:function(e,s,t){}}]);
//# sourceMappingURL=chunk-3eafe848.9aaa4217.js.map